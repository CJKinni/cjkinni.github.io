<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom">

	<title>CJKinni.com</title>
	<subtitle>ðŸ˜Š</subtitle>
	<link href="https://cjkinni.com" />
	<id>https://cjkinni.com/</id>
	<updated>2021-04-25T05:00:00.Z</updated>
	
	
	<entry>
		<title>One Year of ThisWebsiteWillSelfDestruct.com</title>
		<link href="https://cjkinni.com/words/2021-04-24-one-year-of-this-website-will-selfdestruct.html" />
		<id>https://cjkinni.com/words/2021-04-24-one-year-of-this-website-will-selfdestruct.html</id>
		<updated>2021-04-25T05:00:00Z</updated>
		<content>
			&lt;p&gt;It&#39;s been one year since &lt;a href=&quot;https://www.thiswebsitewillselfdestruct.com/&quot;&gt;ThisWebsiteWillSelfDestruct.com&lt;/a&gt; launched.  I wanted to take a moment to write up some thoughts on running the site for the past year.&lt;/p&gt;&lt;h2&gt;Stats&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Since the site&#39;s still up, it by definition ahs had at least one new message every 24 hours for the past 365 days.&lt;/li&gt;&lt;li&gt;It&#39;s actually had many more.  It&#39;s received 200,856 messages in the past year.&lt;/li&gt;&lt;li&gt;In its first month, it received just over 150,000 messages.  Since then, it&#39;s been a slow and steady.&lt;/li&gt;&lt;li&gt;Those message counts do not include unwanted, filtered messages.&lt;/li&gt;&lt;li&gt;There are approximately 1000 unwanted messages filtered for every valid message.&lt;/li&gt;&lt;li&gt;The site&#39;s only major outage was 8 hours, due to a broken deployment before I went to sleep.  Thankfully, I was alerted to it by a kind user.  Had it taken more than 24 hours to fix, the site&#39;s database really would have been deleted automatically.&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;The Beginning&lt;/h2&gt;&lt;p&gt;I made the site for Ludum Dare, a &lt;a href=&quot;https://en.wikipedia.org/wiki/Game_jam&quot;&gt;game jam&lt;/a&gt;.  The theme was &lt;a href=&quot;https://ldjam.com/events/ludum-dare/46&quot;&gt;Keep it Alive&lt;/a&gt;.  I made the first version over four hours before bed.  I posted it, I went to bed, then I wondered if it would last until the end of the Ludum Dare judging period.&lt;/p&gt;&lt;p&gt;When I woke up, there had been around 20 posts, and I showed it to my wife.  She thought it was neat, and we read through the posts.  We were kind of shocked how thoughtfully people were posting to the site, and we loved reading through it.  I posted a few times, myself.&lt;/p&gt;&lt;p&gt;While I was out doing errands, I noticed that there were even more people posting.  I think it got up to 100 posts, and I was honestly a little surprised that people were being so open and honest in their messages.&lt;/p&gt;&lt;p&gt;Then I didn&#39;t think about it until my phone started getting downtime messages.  After looking into it, I was getting &lt;em&gt;a lot&lt;/em&gt; of traffic.  It was coming from &lt;a href=&quot;https://www.reddit.com/r/InternetIsBeautiful/comments/g56vxk/this_website_will_selfdestruct_if_it_goes_24/&quot;&gt;a popular Reddit post&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Without that post, I don&#39;t think the website would be alive today.  It both showed off the site to tons of people, and it also forced me to take the site&#39;s archetecture, content, and moderation policies far more seriously.&lt;/p&gt;&lt;h2&gt;Architecture&lt;/h2&gt;&lt;p&gt;The site was built with Rails and Vue.js.  It is essentially just a webform with a couple APIs.  There are three activities most people were able to do with the original site:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Read a random message.&lt;/li&gt;&lt;li&gt;Post a message.&lt;/li&gt;&lt;li&gt;Get the time the last message was written.&lt;/li&gt;&lt;li&gt;Heart a message.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;There&#39;s no way to read a particular message by design.  This was unintentionally useful in moderation, as I&#39;ll discuss later. &lt;/p&gt;&lt;p&gt;One of the problems was with the way I&#39;d implemented getting the time the last message was written.  I just had an API that the website automatically requested every 5 seconds, and updated the time on the top of the page.  This made it so you&#39;d very quickly notice when new people posted, and the website&#39;s life jumped back up to 86,400.  This was useful for debugging, and was very easy to implement.  Since the whole thing, from backend and database to design was built over one evening, speed of implementation was key to getting it done.  And since I expected at most hundreds of people to view the site over its life, I wasn&#39;t too worried about architecture.&lt;/p&gt;&lt;p&gt;But at its peak, there were well over 20,000 people concurrently on the site.  That means that every second, there were 4,000 requests just to get the time the last message was written.  That&#39;s a lot of requests, and each one was adding a database hit.&lt;/p&gt;&lt;p&gt;To get this fixed quickly, I just upgraded the database server, and decreased the time between requests to 60 seconds.&lt;/p&gt;&lt;p&gt;There would be further improvements to this, such as caching the information in Redis, but I&#39;ll save that for another day.&lt;/p&gt;&lt;h2&gt;Moderation&lt;/h2&gt;&lt;p&gt;With Reddit came a moderation headache.  I&#39;d prepared for some level of moderation, and had the ability through a very quickly thrown together backend to hide comments from view, but that just wasn&#39;t enough.&lt;/p&gt;&lt;p&gt;For about 18 hours, overnight, following the Reddit post, I worked on keeping the content on the site clean, kind, and thoughtful.&lt;/p&gt;&lt;h3&gt;Spam&lt;/h3&gt;&lt;p&gt;Some people quickly figured out there was no rate limiting on the API to post a message, and started mass-posting hate speech.  I added a new step in our posting API which checked a Redis cache of IPs that would increment a counter for how many posts an IP had made in the past X minutes.  If it was more than a fairly low number, it would silently not post the message.  The user was not warned that their post didn&#39;t go through.  And since there&#39;s no API to view a particular post, there&#39;s no obvious way to check if your mass-posting worked or not...&lt;/p&gt;&lt;p&gt;Unless you&#39;re also spamming the message request API.  Which started to happen, so I added rate limiting through Redis across the board.  It was basically copying and pasting the same half-dozen lines of code to all three APIs, slightly tweaking their limits.  This whole process took about an hour, during which I was also doing manual mass removals of posts through SQL queries.&lt;/p&gt;&lt;p&gt;I&#39;d just see what a spam poster was posting, search for it, and delete it directly out of the database.  This was all very real-time and went on throughout the night.&lt;/p&gt;&lt;h3&gt;Filtering&lt;/h3&gt;&lt;p&gt;While I was working on the spam problem, I was simultaneously working on content filtering.  Some content, I realized, I did not want to post online.  I was not interested in creating a place for hate speech to thrive.&lt;/p&gt;&lt;p&gt;I built a quick search tool, and made some modifications to the database so that I could do faster full text searching on what was quickly becoming a huge database of letters.  (The database, at its height, had well over 2 million posts, thanks to the rampant spam before my spam filtering.  At this point, I&#39;d just been toggling off the spam but keeping it in the database so that I could reference it when writing rules about what should and shouldn&#39;t be filtered.)&lt;/p&gt;&lt;p&gt;The process worked like this:  I would manually read every post that came into the site, and when I saw one that wasn&#39;t appropriate, I would block it, and attempt to write a simple filter to block it.  This involved finding all the various misspellings of offensive words used in an attempt to bypass a filter.  Then I&#39;d search those strings, and see if blocking them would have removed legitimate posts.  If they would, I&#39;d work at massaging my filter until it would mostly only filter out bad posts.&lt;/p&gt;&lt;p&gt;Then I&#39;d update the code to add the filter, and move on.&lt;/p&gt;&lt;p&gt;After doing this process for about a day, the number of problematic posts was vanishingly small.  It&#39;s almost certain some positive posts are also filtered out in the process, but I&#39;ve tried my best to limit that when possible.  Fortunately, it&#39;s impossible for anyone to know if their post has been filtered, so bad actors don&#39;t have a quick way to figure out how to work around the filter, and well intentioned and incorrectly filtered users don&#39;t have a bad experience when they post their message.&lt;/p&gt;&lt;p&gt;One side note that I have to mention here -- I had to write a separate filter for long messages because &lt;em&gt;a lot&lt;/em&gt; of people posted the full script of the Bee Movie.  It was everywhere.  Eventually, I would also filter non-unique messages.  But I do think it was entertaining how severely the long text of the Bee movie script would break the style of the website.  For a short time, a few hours into reddit, after filtering out a lot of the hate speech, the site was made up of real content and bee movie scripts, in equal parts.&lt;/p&gt;&lt;h3&gt;Terrorist Threats&lt;/h3&gt;&lt;p&gt;After a night without sleep, and content mostly moderating itself, I finally went to bed.  When I woke up, a person reported a problem: There was a trending reddit post in a local American city about a possible threat to a mall that was posted through ThisWebsiteWillSelfDestruct.com.  The title of the website made the threat all the more sinsiter.  People were concerned, and a few mentioned calling the local police, and said that the police were investigating.&lt;/p&gt;&lt;p&gt;I like to be up front when it comes to this kind of thing, and called the police myself, and explained the situation.  We had a nice chat, and I gave them all the (limited) information I could.  Nothing came of the threat, but I think it&#39;s worth mentioning as an unexpected experience that came from the site.&lt;/p&gt;&lt;h1&gt;A wild year&lt;/h1&gt;&lt;p&gt;The filtering has mostly worked for the past year with only minor imporvements.  I&#39;m always keeping an eye on things, but I&#39;ve been blown away by the supportiveness of the community.&lt;/p&gt;&lt;p&gt;It&#39;s been awesome reading the things that are posted to the site, and I thank everyone who&#39;s been a part of it.&lt;/p&gt;&lt;p&gt;You can support everything I do, and the cost of hosting the site, at &lt;a href=&quot;https://ko-fi.com/femmeandroid&quot;&gt;Ko-Fi&lt;/a&gt; and &lt;a href=&quot;https://www.patreon.com/FemmeAndroid&quot;&gt;Patreon&lt;/a&gt;.&lt;/p&gt;
		</content>
		<author>
			<name>CJKinni</name>
			<email>chris@cjkinni.com</email>
		</author>
	</entry>
	
	<entry>
		<title>rebeccapurple and the many colors of CSS</title>
		<link href="https://cjkinni.com/words/2021-04-10-rebeccapurple-and-the-many-colors-of-css.html" />
		<id>https://cjkinni.com/words/2021-04-10-rebeccapurple-and-the-many-colors-of-css.html</id>
		<updated>2021-04-10T05:00:00Z</updated>
		<content>
			&lt;p&gt;When I was coding up this website, I realized I tend to spend a great deal of time &lt;a href=&quot;https://en.wiktionary.org/wiki/yak_shaving&quot;&gt;yak shaving&lt;/a&gt; any time I had to pick a color.  There&#39;s something about the process of finding a color that I find completely bewildering.  I&#39;ve tried, more times than I can count, and it&#39;s just not for me.&lt;/p&gt;&lt;p&gt;So when I was writing the CSS, I quickly decided to remind myself what the default colors for CSS were.  I don&#39;t think I&#39;d looked at the colors seriously since it was just the default sixteen:&lt;/p&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: black;&quot;&gt;black&lt;/span&gt;&lt;span style=&quot;color: silver;&quot;&gt;silver&lt;/span&gt;&lt;span style=&quot;color: gray;&quot;&gt;gray&lt;/span&gt;&lt;span style=&quot;color: white;&quot;&gt;white&lt;/span&gt;&lt;span style=&quot;color: maroon;&quot;&gt;maroon&lt;/span&gt;&lt;span style=&quot;color: red;&quot;&gt;red&lt;/span&gt;&lt;span style=&quot;color: purple;&quot;&gt;purple&lt;/span&gt;&lt;span style=&quot;color: fuchsia;&quot;&gt;fuchsia&lt;/span&gt;&lt;span style=&quot;color: green;&quot;&gt;green&lt;/span&gt;&lt;span style=&quot;color: lime;&quot;&gt;lime&lt;/span&gt;&lt;span style=&quot;color: olive;&quot;&gt;olive&lt;/span&gt;&lt;span style=&quot;color: yellow;&quot;&gt;yellow&lt;/span&gt;&lt;span style=&quot;color: navy;&quot;&gt;navy&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;blue&lt;/span&gt;&lt;span style=&quot;color: teal;&quot;&gt;teal&lt;/span&gt;&lt;span style=&quot;color: aqua;&quot;&gt;aqua&lt;/span&gt;&lt;/div&gt;&lt;p&gt;These were all there were from &lt;a href=&quot;https://www.w3.org/TR/CSS1/&quot;&gt;their specification&lt;/a&gt; in 1996 untill 2011.  15 years later, we&#39;d receive the next color addition in &lt;a href=&quot;https://www.w3.org/TR/CSS2/&quot;&gt;CSS Level 2 Rev 1&lt;/a&gt;:&lt;/p&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: orange;&quot;&gt;orange&lt;/span&gt;&lt;/div&gt;&lt;p&gt;That&#39;s right.  Orange.  The seventeenth named color.&lt;/p&gt;&lt;p&gt;Since then, the colors have gone in an excellent direction.  No longer catering to &lt;a href=&quot;https://en.wikipedia.org/wiki/Video_Graphics_Array&quot;&gt;VTA&lt;/a&gt; displays, they&#39;re less bold, and more subtle.  Their names are also excellent.  On &lt;a href=&quot;https://drafts.csswg.org/css-color-3/&quot;&gt;March 2018&lt;/a&gt;, we&#39;d get this wonderful selection of 129 colors&lt;/p&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: aliceblue;&quot;&gt;aliceblue&lt;/span&gt;&lt;span style=&quot;color: antiquewhite;&quot;&gt;antiquewhite&lt;/span&gt;&lt;span style=&quot;color: aquamarine;&quot;&gt;aquamarine&lt;/span&gt;&lt;span style=&quot;color: azure;&quot;&gt;azure&lt;/span&gt;&lt;span style=&quot;color: beige;&quot;&gt;beige&lt;/span&gt;&lt;span style=&quot;color: bisque;&quot;&gt;bisque&lt;/span&gt;&lt;span style=&quot;color: blanchedalmond;&quot;&gt;blanchedalmond&lt;/span&gt;&lt;span style=&quot;color: blueviolet;&quot;&gt;blueviolet&lt;/span&gt;&lt;span style=&quot;color: brown;&quot;&gt;brown&lt;/span&gt;&lt;span style=&quot;color: burlywood;&quot;&gt;burlywood&lt;/span&gt;&lt;span style=&quot;color: cadetblue;&quot;&gt;cadetblue&lt;/span&gt;&lt;span style=&quot;color: chartreuse;&quot;&gt;chartreuse&lt;/span&gt;&lt;span style=&quot;color: chocolate;&quot;&gt;chocolate&lt;/span&gt;&lt;span style=&quot;color: coral;&quot;&gt;coral&lt;/span&gt;&lt;span style=&quot;color: cornflowerblue;&quot;&gt;cornflowerblue&lt;/span&gt;&lt;span style=&quot;color: cornsilk;&quot;&gt;cornsilk&lt;/span&gt;&lt;span style=&quot;color: crimson;&quot;&gt;crimson&lt;/span&gt;&lt;span style=&quot;color: cyan;&quot;&gt;cyan&lt;/span&gt;&lt;span style=&quot;color: darkblue;&quot;&gt;darkblue&lt;/span&gt;&lt;span style=&quot;color: darkcyan;&quot;&gt;darkcyan&lt;/span&gt;&lt;span style=&quot;color: darkgoldenrod;&quot;&gt;darkgoldenrod&lt;/span&gt;&lt;span style=&quot;color: darkgray;&quot;&gt;darkgray&lt;/span&gt;&lt;span style=&quot;color: darkgreen;&quot;&gt;darkgreen&lt;/span&gt;&lt;span style=&quot;color: darkgrey;&quot;&gt;darkgrey&lt;/span&gt;&lt;span style=&quot;color: darkkhaki;&quot;&gt;darkkhaki&lt;/span&gt;&lt;span style=&quot;color: darkmagenta;&quot;&gt;darkmagenta&lt;/span&gt;&lt;span style=&quot;color: darkolivegreen;&quot;&gt;darkolivegreen&lt;/span&gt;&lt;span style=&quot;color: darkorange;&quot;&gt;darkorange&lt;/span&gt;&lt;span style=&quot;color: darkorchid;&quot;&gt;darkorchid&lt;/span&gt;&lt;span style=&quot;color: darkred;&quot;&gt;darkred&lt;/span&gt;&lt;span style=&quot;color: darksalmon;&quot;&gt;darksalmon&lt;/span&gt;&lt;span style=&quot;color: darkseagreen;&quot;&gt;darkseagreen&lt;/span&gt;&lt;span style=&quot;color: darkslateblue;&quot;&gt;darkslateblue&lt;/span&gt;&lt;span style=&quot;color: darkslategray;&quot;&gt;darkslategray&lt;/span&gt;&lt;span style=&quot;color: darkslategrey;&quot;&gt;darkslategrey&lt;/span&gt;&lt;span style=&quot;color: darkturquoise;&quot;&gt;darkturquoise&lt;/span&gt;&lt;span style=&quot;color: darkviolet;&quot;&gt;darkviolet&lt;/span&gt;&lt;span style=&quot;color: deeppink;&quot;&gt;deeppink&lt;/span&gt;&lt;span style=&quot;color: deepskyblue;&quot;&gt;deepskyblue&lt;/span&gt;&lt;span style=&quot;color: dimgray;&quot;&gt;dimgray&lt;/span&gt;&lt;span style=&quot;color: dimgrey;&quot;&gt;dimgrey&lt;/span&gt;&lt;span style=&quot;color: dodgerblue;&quot;&gt;dodgerblue&lt;/span&gt;&lt;span style=&quot;color: firebrick;&quot;&gt;firebrick&lt;/span&gt;&lt;span style=&quot;color: floralwhite;&quot;&gt;floralwhite&lt;/span&gt;&lt;span style=&quot;color: forestgreen;&quot;&gt;forestgreen&lt;/span&gt;&lt;span style=&quot;color: gainsboro;&quot;&gt;gainsboro&lt;/span&gt;&lt;span style=&quot;color: ghostwhite;&quot;&gt;ghostwhite&lt;/span&gt;&lt;span style=&quot;color: gold;&quot;&gt;gold&lt;/span&gt;&lt;span style=&quot;color: goldenrod;&quot;&gt;goldenrod&lt;/span&gt;&lt;span style=&quot;color: greenyellow;&quot;&gt;greenyellow&lt;/span&gt;&lt;span style=&quot;color: grey;&quot;&gt;grey&lt;/span&gt;&lt;span style=&quot;color: honeydew;&quot;&gt;honeydew&lt;/span&gt;&lt;span style=&quot;color: hotpink;&quot;&gt;hotpink&lt;/span&gt;&lt;span style=&quot;color: indianred;&quot;&gt;indianred&lt;/span&gt;&lt;span style=&quot;color: indigo;&quot;&gt;indigo&lt;/span&gt;&lt;span style=&quot;color: ivory;&quot;&gt;ivory&lt;/span&gt;&lt;span style=&quot;color: khaki;&quot;&gt;khaki&lt;/span&gt;&lt;span style=&quot;color: lavender;&quot;&gt;lavender&lt;/span&gt;&lt;span style=&quot;color: lavenderblush;&quot;&gt;lavenderblush&lt;/span&gt;&lt;span style=&quot;color: lawngreen;&quot;&gt;lawngreen&lt;/span&gt;&lt;span style=&quot;color: lemonchiffon;&quot;&gt;lemonchiffon&lt;/span&gt;&lt;span style=&quot;color: lightblue;&quot;&gt;lightblue&lt;/span&gt;&lt;span style=&quot;color: lightcoral;&quot;&gt;lightcoral&lt;/span&gt;&lt;span style=&quot;color: lightcyan;&quot;&gt;lightcyan&lt;/span&gt;&lt;span style=&quot;color: lightgoldenrodyellow;&quot;&gt;lightgoldenrodyellow&lt;/span&gt;&lt;span style=&quot;color: lightgray;&quot;&gt;lightgray&lt;/span&gt;&lt;span style=&quot;color: lightgreen;&quot;&gt;lightgreen&lt;/span&gt;&lt;span style=&quot;color: lightgrey;&quot;&gt;lightgrey&lt;/span&gt;&lt;span style=&quot;color: lightpink;&quot;&gt;lightpink&lt;/span&gt;&lt;span style=&quot;color: lightsalmon;&quot;&gt;lightsalmon&lt;/span&gt;&lt;span style=&quot;color: lightseagreen;&quot;&gt;lightseagreen&lt;/span&gt;&lt;span style=&quot;color: lightskyblue;&quot;&gt;lightskyblue&lt;/span&gt;&lt;span style=&quot;color: lightslategray;&quot;&gt;lightslategray&lt;/span&gt;&lt;span style=&quot;color: lightslategrey;&quot;&gt;lightslategrey&lt;/span&gt;&lt;span style=&quot;color: lightsteelblue;&quot;&gt;lightsteelblue&lt;/span&gt;&lt;span style=&quot;color: lightyellow;&quot;&gt;lightyellow&lt;/span&gt;&lt;span style=&quot;color: limegreen;&quot;&gt;limegreen&lt;/span&gt;&lt;span style=&quot;color: linen;&quot;&gt;linen&lt;/span&gt;&lt;span style=&quot;color: magenta;&quot;&gt;magenta&lt;/span&gt;&lt;span style=&quot;color: mediumaquamarine;&quot;&gt;mediumaquamarine&lt;/span&gt;&lt;span style=&quot;color: mediumblue;&quot;&gt;mediumblue&lt;/span&gt;&lt;span style=&quot;color: mediumorchid;&quot;&gt;mediumorchid&lt;/span&gt;&lt;span style=&quot;color: mediumpurple;&quot;&gt;mediumpurple&lt;/span&gt;&lt;span style=&quot;color: mediumseagreen;&quot;&gt;mediumseagreen&lt;/span&gt;&lt;span style=&quot;color: mediumslateblue;&quot;&gt;mediumslateblue&lt;/span&gt;&lt;span style=&quot;color: mediumspringgreen;&quot;&gt;mediumspringgreen&lt;/span&gt;&lt;span style=&quot;color: mediumturquoise;&quot;&gt;mediumturquoise&lt;/span&gt;&lt;span style=&quot;color: mediumvioletred;&quot;&gt;mediumvioletred&lt;/span&gt;&lt;span style=&quot;color: midnightblue;&quot;&gt;midnightblue&lt;/span&gt;&lt;span style=&quot;color: mintcream;&quot;&gt;mintcream&lt;/span&gt;&lt;span style=&quot;color: mistyrose;&quot;&gt;mistyrose&lt;/span&gt;&lt;span style=&quot;color: moccasin;&quot;&gt;moccasin&lt;/span&gt;&lt;span style=&quot;color: navajowhite;&quot;&gt;navajowhite&lt;/span&gt;&lt;span style=&quot;color: oldlace;&quot;&gt;oldlace&lt;/span&gt;&lt;span style=&quot;color: olivedrab;&quot;&gt;olivedrab&lt;/span&gt;&lt;span style=&quot;color: orangered;&quot;&gt;orangered&lt;/span&gt;&lt;span style=&quot;color: orchid;&quot;&gt;orchid&lt;/span&gt;&lt;span style=&quot;color: palegoldenrod;&quot;&gt;palegoldenrod&lt;/span&gt;&lt;span style=&quot;color: palegreen;&quot;&gt;palegreen&lt;/span&gt;&lt;span style=&quot;color: paleturquoise;&quot;&gt;paleturquoise&lt;/span&gt;&lt;span style=&quot;color: palevioletred;&quot;&gt;palevioletred&lt;/span&gt;&lt;span style=&quot;color: papayawhip;&quot;&gt;papayawhip&lt;/span&gt;&lt;span style=&quot;color: peachpuff;&quot;&gt;peachpuff&lt;/span&gt;&lt;span style=&quot;color: peru;&quot;&gt;peru&lt;/span&gt;&lt;span style=&quot;color: pink;&quot;&gt;pink&lt;/span&gt;&lt;span style=&quot;color: plum;&quot;&gt;plum&lt;/span&gt;&lt;span style=&quot;color: powderblue;&quot;&gt;powderblue&lt;/span&gt;&lt;span style=&quot;color: rosybrown;&quot;&gt;rosybrown&lt;/span&gt;&lt;span style=&quot;color: royalblue;&quot;&gt;royalblue&lt;/span&gt;&lt;span style=&quot;color: saddlebrown;&quot;&gt;saddlebrown&lt;/span&gt;&lt;span style=&quot;color: salmon;&quot;&gt;salmon&lt;/span&gt;&lt;span style=&quot;color: sandybrown;&quot;&gt;sandybrown&lt;/span&gt;&lt;span style=&quot;color: seagreen;&quot;&gt;seagreen&lt;/span&gt;&lt;span style=&quot;color: seashell;&quot;&gt;seashell&lt;/span&gt;&lt;span style=&quot;color: sienna;&quot;&gt;sienna&lt;/span&gt;&lt;span style=&quot;color: skyblue;&quot;&gt;skyblue&lt;/span&gt;&lt;span style=&quot;color: slateblue;&quot;&gt;slateblue&lt;/span&gt;&lt;span style=&quot;color: slategray;&quot;&gt;slategray&lt;/span&gt;&lt;span style=&quot;color: slategrey;&quot;&gt;slategrey&lt;/span&gt;&lt;span style=&quot;color: snow;&quot;&gt;snow&lt;/span&gt;&lt;span style=&quot;color: springgreen;&quot;&gt;springgreen&lt;/span&gt;&lt;span style=&quot;color: steelblue;&quot;&gt;steelblue&lt;/span&gt;&lt;span style=&quot;color: tan;&quot;&gt;tan&lt;/span&gt;&lt;span style=&quot;color: thistle;&quot;&gt;thistle&lt;/span&gt;&lt;span style=&quot;color: tomato;&quot;&gt;tomato&lt;/span&gt;&lt;span style=&quot;color: turquoise;&quot;&gt;turquoise&lt;/span&gt;&lt;span style=&quot;color: violet;&quot;&gt;violet&lt;/span&gt;&lt;span style=&quot;color: wheat;&quot;&gt;wheat&lt;/span&gt;&lt;span style=&quot;color: whitesmoke;&quot;&gt;whitesmoke&lt;/span&gt;&lt;span style=&quot;color: yellowgreen;&quot;&gt;yellowgreen&lt;/span&gt;&lt;/div&gt;&lt;p&gt;Most recently we added one more color:&lt;/p&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: rebeccapurple;&quot;&gt;rebeccapurple&lt;/span&gt;&lt;/div&gt;&lt;p&gt;This color is why I wrote this whole post.  I won&#39;t repeat the story, but please give &lt;a href=&quot;https://codepen.io/trezy/post/honoring-a-great-man&quot;&gt;this short explanation of the color and what it honors&lt;/a&gt; a read.  I must admit, I didn&#39;t expect to get teary while reading about CSS color options.&lt;/p&gt;
		</content>
		<author>
			<name>CJKinni</name>
			<email>chris@cjkinni.com</email>
		</author>
	</entry>
	
	<entry>
		<title>A simple static site generator in Elixir</title>
		<link href="https://cjkinni.com/words/2021-04-09-a-simple-static-site-generator-in-elixir.html" />
		<id>https://cjkinni.com/words/2021-04-09-a-simple-static-site-generator-in-elixir.html</id>
		<updated>2021-04-09T05:00:00Z</updated>
		<content>
			&lt;p&gt;Inspired in large part by &lt;a href=&quot;https://twitter.com/code_report&quot;&gt;Conor Hoekstra&lt;/a&gt;, I&#39;ve been getting more into functional programming over the past few months.  I&#39;ve been consuming a lot of functional programming content, and tryign to work more pure functions into my programming, but until this week, I haven&#39;t spent much time doing development in a functional language.&lt;/p&gt;&lt;p&gt;This week, I&#39;ve built two working things in &lt;a href=&quot;https://elixir-lang.org&quot;&gt;Elixir&lt;/a&gt;.  &lt;/p&gt;&lt;p&gt;First, there&#39;s a proxy server to assist me in developing against heavily ratelimited APIs.  It&#39;s using Phoenix, and I had it up in running from never having written a line of Elixir in about six hours (much of which was spent navigating RFCs to make sure I completely understood how HTTP and HTTPs proxies work.)&lt;/p&gt;&lt;p&gt;Second, is the &lt;a href=&quot;https://github.com/CJKinni/BlogEngine&quot;&gt;little tool&lt;/a&gt; I&#39;m using to generate &lt;a href=&quot;https://github.com/CJKinni/cjkinni.github.io&quot;&gt;this site&lt;/a&gt;.  It&#39;s basically a MVP static-site generator.  That is, it takes a folder of &lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt; formatted documents and spits out a table of context and some nicely formatted blog posts.  Eventually I&#39;ll add an Atom feed, and maybe some other nice features.  This was an evening project today, and it took about two hours while watching TV with Laura.  It&#39;s &lt;em&gt;very&lt;/em&gt; janky, but it&#39;s also &lt;em&gt;very&lt;/em&gt; simple, which I like.&lt;/p&gt;&lt;p&gt;It basically consists of a few files:&lt;/p&gt;&lt;p&gt;/lib/blog_engine.ex:&lt;/p&gt;&lt;p&gt;This consists of nine simple helper functions that do various things like delete all the files in a directory, get a directory list, parse a blogpost, and render the templates.  There are some hardcoded paths I&#39;d like to move out of the tool, but I think it&#39;s fine for now.&lt;/p&gt;&lt;p&gt;/build.ex:&lt;/p&gt;&lt;p&gt;This is where the magic happens.  It&#39;s almost exclusively written using the &lt;code class=&quot;inline&quot;&gt;|&gt;&lt;/code&gt; pipe operator, and passing lists through a bunch of functions that do the real work.  I&#39;m not sure this is ideal, but it&#39;s really simple to think about composing these little functions like this.  It deletes the last version of the site, re-generates from the source files, and replaces any deleted static files I want.&lt;/p&gt;&lt;p&gt;/generate.sh:&lt;/p&gt;&lt;p&gt;This runs /build.ex, then commits changes to both my BlogEngine repository and the repository that runs CJKinni.com, so that the changes will go live on CJKinni.com within a few minutes.&lt;/p&gt;&lt;p&gt;I enjoyed writing the code.  It&#39;s very straightforward, and I &lt;em&gt;think&lt;/em&gt; that it will be easier to return to than some of the other coding projects I&#39;ve taken breaks from.&lt;/p&gt;&lt;p&gt;I&#39;m still not sure what the result of my deep dive into category theory will be, but for now I&#39;m enjoying the ride.&lt;/p&gt;
		</content>
		<author>
			<name>CJKinni</name>
			<email>chris@cjkinni.com</email>
		</author>
	</entry>
	
	<entry>
		<title>Pneumonia II</title>
		<link href="https://cjkinni.com/words/2021-04-08-pneumonia-ii.html" />
		<id>https://cjkinni.com/words/2021-04-08-pneumonia-ii.html</id>
		<updated>2021-04-08T05:00:00Z</updated>
		<content>
			&lt;p&gt;&lt;a href=&quot;/words/pneumonia-I.html&quot;&gt;Last time&lt;/a&gt;, I described my hospital stay after a surprise pneumonia diagnosis. Unfortunately, I wish that was the end of the troubles.&lt;/p&gt;&lt;p&gt;I wasn&#39;t getting better.  I was told to check in with my primary care doctor, who I actually hadn&#39;t met in person after moving over to her early in the Pandemic.&lt;/p&gt;&lt;p&gt;Great introduction: &quot;Hi Doc, I have pneumonia, and I feel like crap.&quot;&lt;/p&gt;&lt;p&gt;So she talks to me for a bit, and decides that after the course of antibiotics I&#39;ve taken, I should feel great.  So on to antibiotic treatment round two! And this time, she lets me know that if I&#39;m still feeling like shit by Friday, then I need to come back and talk to her again.&lt;/p&gt;&lt;p&gt;Well, the past few days have been miserable.&lt;/p&gt;&lt;p&gt;I don&#39;t love talking about the specifics of my job, but I think I want to tell a bit of a story, mostly to contextualize why today feels worse than spending eighteen hours as a roomate of a delusional man going thorugh withdrawals while in the worst pain of his life.&lt;/p&gt;&lt;p&gt;I&#39;m responsible for a fairly large piece of infrastructure at work. After it was performing poorly a few years ago, I took a month to do a top-to-bottom rewrite of the service, and now it is something all our business runs through.  We have a third party dependency that has been extremely flaky as we&#39;ve increased the ammount we use it, and sometimes it cuts out completely.  Over the past month, this has lead to processes that usually take minutes to take hours, which is far from ideal. Acknowledged.&lt;/p&gt;&lt;p&gt;Early last week, I took up the task of doing everything in my power to get this system under control.  I read a bunch of newly released documentaiton on our dependency, made a ton of updates and improvements to the system, and was realy proud of the job I&#39;d done.&lt;/p&gt;&lt;p&gt;The evening I released the big fix was the night before I went into the hospital.  That next morning, I was messaging my boss to make sure the system was up and running, since I couldn&#39;t get onto our VPN from my phone, but it was practically the first weekday in a month that I hadn&#39;t had urgent alerts pinging my phone (which I should get even if I wasn&#39;t on the VPN.)&lt;/p&gt;&lt;p&gt;The fix had worked.  While I was in the hospital, a colleague (who didn&#39;t know I was out) pinged me to let me know that the test servers were running very quickly, and he was appreciative.&lt;/p&gt;&lt;p&gt;Throughout the hospital stay, the one thing I was really hanging onto was how pleased I was that I&#39;d managed to resolve this debilitating crisis at work.  I imagined going into the Thrusday meeting and saying that it was the first calm week in a while, and everyone being pretty pleased they&#39;d no longer be receiving alerts about the system going down.&lt;/p&gt;&lt;p&gt;Monday, Tuesday, and Wednesday go by swimmingly, and lasst night I released a new update.&lt;/p&gt;&lt;p&gt;I still haven&#39;t figured out exactly what happened, or even if the update had anything to do with it, but on Thursday morning three services we rely on that seemed to all go down at once under some heavy load.  And the system was backed up for hours processing the backlog.&lt;/p&gt;&lt;p&gt;So today, instead of coming into the Thursday meeting a hero, I was panicing while I tried to fix the crisis, while running back and forth to the bathroom with nausea.  It sucked. It was all pretty much resolved by the Thursday meeting I&#39;d been excited about just a day before.  But the meeting was awful.  There was a mini-lecture from a co-worker (who only knows about the system, and not the pneumonia or anything else).  Everything that was brought up was fair, and logical, and reasonable.  But I am glad the meeting was remote so I could just shut up, mute myself, and not have anyone looking at my face.&lt;/p&gt;&lt;p&gt;So that was today.  I was nauseous, couldn&#39;t eat, fucked up at work, and was reminded of it.&lt;/p&gt;&lt;p&gt;Tomorrow, if I&#39;m not somehow feeling better, I check back in with the Doctor and you get a Pneumonia III.&lt;/p&gt;
		</content>
		<author>
			<name>CJKinni</name>
			<email>chris@cjkinni.com</email>
		</author>
	</entry>
	
	<entry>
		<title>Pneumonia I</title>
		<link href="https://cjkinni.com/words/2021-04-07-pneumonia-i.html" />
		<id>https://cjkinni.com/words/2021-04-07-pneumonia-i.html</id>
		<updated>2021-04-07T05:00:00Z</updated>
		<content>
			&lt;p&gt;It&#39;s been a rough couple months.  The title probably gives away the punchline.&lt;/p&gt;&lt;p&gt;My son started daycare a couple months ago, and soon after my wife and I picked up bit of a cold.  Of course, mine just wouldn&#39;t go away.  After two covid tests and six weeks of a lingering cough that had my sinuses rioting, my doctor prescribed me some antibiotics for sinusitis.&lt;/p&gt;&lt;p&gt;I was in good spirits, and I did start to improve.  The sinus issues were gone, and I thought I was mostly in the clear.&lt;/p&gt;&lt;p&gt;After a pretty good week, I woke up last Wednesday to my whole body shaking.  We&#39;ve had some furnace issues this winter, and I thought it might have gone out again.  But I was shaking too much to get up and do anything about it, and I quickly woke up Laura who let me know it wasn&#39;t cold at all.&lt;/p&gt;&lt;p&gt;Great. I was shaking pretty badly now -- like my hands were moving back and forth maybe an inch and a half with each shake.  My mind was fine though, and I made some jokes to try and lighten the mood while she got a thermometer and called a nurse line.&lt;/p&gt;&lt;p&gt;The nurse told me to go to the emergency room.  I was in no state to drive, so at 5 AM Laura woke up our son, bundled him up, and dropped me off at the ER, thinking she&#39;d be picking me up later that day.&lt;/p&gt;&lt;p&gt;After meeting with a doctor, my fever broke and the shaking let up. The doctor took some blood, and I got a bit of sleep before a large, portable X-Ray machine was wheeled into my room and took some shots of my chest.&lt;/p&gt;&lt;p&gt;A little more waiting, and they knew what it was: I had pneumonia.  The shaking was &lt;a href=&quot;&lt;a href=&quot;https://en.wikipedia.org/wiki/Chills%22%3Erigors%3C/a%3E,&quot;&gt;https://en.wikipedia.org/wiki/Chills&quot;&gt;rigors&lt;/a&gt;,&lt;/a&gt; caused from the pneumonia.  Since the reaction was fairly severe, they reccomended I spend a day in the hospital to ensure everything was alright before I came home in the morning. I agreed, and was given some intravenous antibiotics, and wheeled up to my new home for the next 36 hours.&lt;/p&gt;&lt;p&gt;On the whole, roommate Number One was pretty good company.  He was a deaf older man accompanied by his daughter, as he went through some tests of his balance.  He did an unintentionally hilarious bit where he refused to do any of the tests because they seemed more dangerous than not performing the tests, and it would hurt if he fell.  He spoke pretty loudly, but I couldn&#39;t complain too much, at least it was something to listen to as I was laying in the hospital bed, hooked into an IV.&lt;/p&gt;&lt;p&gt;He left in the afternoon, and I had a nice few hours to myself.  The night nurse told me I&#39;d probably have the place to myself for the evening.  I enjoyed the few hours I had to sleep alone before roommate number two was wheeled in, screaming.&lt;/p&gt;&lt;p&gt;Roommate Number Two had a rough life.  A little over fifty, he&#39;d been in and out of the hospital a few times.  This time, he&#39;d broken his eye-socket and arm while passed out.  It looked like it hurt, and the withdrawals over the next 18 hours I&#39;d spend with Number Two sounded equally unpleasant.&lt;/p&gt;&lt;p&gt;The &#39;goals&#39; listed on the board for my hospital stay were &#39;antibiotics&#39; and &#39;rest.&#39;  I certainly got more of one than the other.  I might have slept two hours after Number Two entered my life.  When he wasn&#39;t yelling, he was talking to people that weren&#39;t there, and twice peed on the floor.&lt;/p&gt;&lt;p&gt;As I said, he was going through a lot.  He tried his best to be kind and appreciative of the nurses, and was appreciative when I helped him with his breakfast.  But I can&#39;t say that I entirely enjoyed my stay.&lt;/p&gt;&lt;p&gt;When morning came, I was anxious to see the doctor and get out of the hospital.  Unfortunately, as I was told by my nurse, &quot;the Doctor comes when the Doctor comes.&quot;  My wife and I re-scheduled when she&#39;d pick me up throughout the day, pushing our expectations back later and later.  Dispite being on a few hours sleep, I kept awake, afraid that I&#39;d sleep through the Doctor doing her rounds.&lt;/p&gt;&lt;p&gt;A little after 4 pm, and 36 hours since I came to the ER, I was let out, and given some antibiotics to take.&lt;/p&gt;&lt;p&gt;It felt great to be home.  I was in good spirits.  But I didn&#39;t start to improve...&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;/words/pneumonia-II.html&quot;&gt;II&lt;/a&gt;&lt;/p&gt;
		</content>
		<author>
			<name>CJKinni</name>
			<email>chris@cjkinni.com</email>
		</author>
	</entry>
	

</feed>